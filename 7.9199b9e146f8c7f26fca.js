(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"305l":function(t,e,o){"use strict";o.r(e),o.d(e,"AuthModule",function(){return wt});var n=o("ofXK"),s=o("3Pt+"),r=o("tk/3"),a=o("tyNb"),i=o("fXoL"),l=o("pLZG"),c=o("e4g8");const m=function(t){return{active:t}};function u(t,e){if(1&t){const t=i.Tb();i.Qb(0),i.Sb(1,"li",2),i.Sb(2,"a",3),i.cc("click",function(){i.vc(t);const o=e.$implicit;return i.gc().setLanguageWithRefresh(o.lang)}),i.Sb(3,"span",4),i.Nb(4,"img",5),i.Rb(),i.Sb(5,"span",6),i.Gc(6),i.Rb(),i.Rb(),i.Rb(),i.Pb()}if(2&t){const t=e.$implicit;i.zb(1),i.mc("ngClass",i.qc(4,m,t.active)),i.zb(1),i.mc("ngClass",i.qc(6,m,t.active)),i.zb(2),i.nc("src",t.flag,i.xc),i.zb(2),i.Hc(t.name)}}let b=(()=>{class t{constructor(t,e){this.translationService=t,this.router=e,this.languages=[{lang:"en",name:"English",flag:"./assets/images/226-united-states.svg"},{lang:"ar",name:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",flag:"./assets/images/077-jordan.svg"}]}ngOnInit(){this.setSelectedLanguage(),this.router.events.pipe(Object(l.a)(t=>t instanceof a.b)).subscribe(t=>{this.setSelectedLanguage()})}setLanguageWithRefresh(t){this.setLanguage(t),window.location.reload()}setLanguage(t){var e=document.getElementById("rtl-file");if("ar"===t&&!e){var o=document.getElementsByTagName("head")[0],n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href="./assets/css/bootstrap-rtl.min.css",n.media="all";var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.href="./assets/css/style-rtl.css",s.media="all";var r=document.getElementsByTagName("html")[0];o.appendChild(n),o.appendChild(s),setTimeout(()=>{r.id="rtl-file",r.dir="rtl",r.style.direction="rtl"},200)}this.languages.forEach(e=>{e.lang===t?(e.active=!0,this.language=e):e.active=!1}),this.translationService.setLanguage(t)}setSelectedLanguage(){this.setLanguage(this.translationService.getSelectedLanguage())}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(c.a),i.Mb(a.c))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-change-language"]],decls:2,vars:1,consts:[[1,"navi","navi-hover","py-3","mb-0"],[4,"ngFor","ngForOf"],[1,"lang-item","navi-item",3,"ngClass"],["href","javascript:;",1,"navi-link",3,"ngClass","click"],[1,"symbol","symbol-20","mr-3"],[1,"flag",3,"src"],[1,"navi-text"]],template:function(t,e){1&t&&(i.Sb(0,"ul",0),i.Ec(1,u,7,8,"ng-container",1),i.Rb()),2&t&&(i.zb(1),i.mc("ngForOf",e.languages))},directives:[n.k,n.j],styles:[".lang-item[_ngcontent-%COMP%]{display:inline-block!important}.lang-item[_ngcontent-%COMP%]   .navi-link[_ngcontent-%COMP%]{padding:.75rem 1rem!important}"]}),t})(),g=(()=>{class t{constructor(){this.today=new Date}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Gb({type:t,selectors:[["app-auth"]],decls:3,vars:0,consts:[[1,"container-fluied","auth-section"],[1,"login-language"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Nb(1,"app-change-language",1),i.Nb(2,"router-outlet"),i.Rb())},directives:[b,a.f],styles:["[_nghost-%COMP%]{height:100%}.login-language[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.auth-section[_ngcontent-%COMP%]{background:#dcf3d6}@media (max-width:800px){.login-language[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;text-align:center;bottom:0;top:auto}.auth-section[_ngcontent-%COMP%]{position:relative}}"]}),t})();var d=o("SxV6"),h=o("+BVi"),p=o("Phhl"),f=o("sYmb");function v(t,e){if(1&t&&(i.Qb(0),i.Sb(1,"div",22),i.Sb(2,"div",23),i.Gc(3),i.Rb(),i.Rb(),i.Pb()),2&t){const t=i.gc().message;i.zb(3),i.Ic(" ",t," ")}}function S(t,e){if(1&t&&i.Ec(0,v,4,1,"ng-container",21),2&t){const t=e.control;i.mc("ngIf",t.hasError(e.validation)&&(t.dirty||t.touched))}}const w=function(t){return{"is-invalid":t}},O=function(t){return{validation:"required",message:"Email is required",control:t}},C=function(t){return{validation:"email",message:"Email is invalid",control:t}},R=function(t){return{validation:"minLength",message:"Email should have at least 3 symbols",control:t}},q=function(t){return{validation:"maxLength",message:"Email should have maximum 360 symbols",control:t}},T=function(t){return{validation:"required",message:"Password is required",control:t}},P=function(t){return{validation:"minlength",message:"Password should have at least 3 symbols",control:t}},x=function(t){return{validation:"maxLength",message:"Password should have maximum 100 symbols",control:t}};let y=(()=>{class t{constructor(t,e,o,n,s){this.fb=t,this.authService=e,this.route=o,this.router=n,this.loderService=s,this.defaultAuth={email:"",password:""},this.unsubscribe=[],localStorage.getItem("token")&&this.router.navigate(["/"])}ngOnInit(){this.initForm(),this.returnUrl=this.route.snapshot.queryParams["returnUrl".toString()]||"/"}get f(){return this.loginForm.controls}initForm(){this.loginForm=this.fb.group({email:[this.defaultAuth.email,s.q.compose([s.q.required,s.q.email,s.q.minLength(3),s.q.maxLength(320)])],password:[this.defaultAuth.password,s.q.compose([s.q.required,s.q.minLength(3),s.q.maxLength(100)])]})}submit(){this.loderService.setIsLoading=!0,this.authService.login(this.f.email.value,this.f.password.value).pipe(Object(d.a)()).subscribe(t=>{localStorage.setItem("token",t.result.authResponse.accessToken),localStorage.setItem("permissions",this.parseJwt(t.result.authResponse.accessToken).permissions),this.router.navigate(["/home"]),this.loderService.setIsLoading=!1},t=>{this.loderService.setIsLoading=!1,console.log(t)})}parseJwt(t){var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(e).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(o)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(s.d),i.Mb(h.a),i.Mb(a.a),i.Mb(a.c),i.Mb(p.a))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-login"]],decls:42,vars:51,consts:[[1,"container"],[1,"row","authSection"],[1,"col-lg-4","offset-lg-4","col-md-6","offset-md-3","py-5"],["routerLink","/home"],["src","./assets/images/logo.svg","alt","Logo",1,"login-logo"],["novalidate","novalidate",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"text-muted","font-weight-bold","font-size-h4"],[1,"d-inline","font-weight-bold"],["routerLink","/auth/registration"],[1,"form-group"],[1,"font-size-h6","font-weight-bolder","text-dark"],["type","email","name","email","formControlName","email","autocomplete","off",1,"form-control","w-100",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","justify-content-between"],["routerLink","/auth/forgot-password"],["type","password","name","password","autocomplete","off","formControlName","password",1,"form-control",3,"ngClass"],[1,"pb-lg-0","pb-5"],["type","submit",1,"btn","btn-success","px-4",3,"disabled"],["routerLink","/home","type","button",1,"btn","btn-light","mx-2"],["formError",""],[4,"ngIf"],[1,"fv-plugins-message-container"],[1,"fv-help-block"]],template:function(t,e){if(1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Sb(2,"div",2),i.Sb(3,"a",3),i.Nb(4,"img",4),i.Rb(),i.Sb(5,"form",5),i.cc("ngSubmit",function(){return e.submit()}),i.Sb(6,"div",6),i.Sb(7,"span",7),i.Gc(8,"New Here? "),i.Sb(9,"h2",8),i.Sb(10,"a",9),i.Gc(11),i.hc(12,"translate"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(13,"div",10),i.Sb(14,"label",11),i.Gc(15),i.hc(16,"translate"),i.Rb(),i.Nb(17,"input",12),i.Ob(18,13),i.Ob(19,13),i.Ob(20,13),i.Ob(21,13),i.Rb(),i.Sb(22,"div",10),i.Sb(23,"div",14),i.Sb(24,"label",11),i.Gc(25),i.hc(26,"translate"),i.Rb(),i.Sb(27,"a",15),i.Gc(28),i.hc(29,"translate"),i.Rb(),i.Rb(),i.Nb(30,"input",16),i.Ob(31,13),i.Ob(32,13),i.Ob(33,13),i.Rb(),i.Sb(34,"div",17),i.Sb(35,"button",18),i.Gc(36),i.hc(37,"translate"),i.Rb(),i.Sb(38,"a",19),i.Gc(39," Back to home "),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Ec(40,S,1,1,"ng-template",null,20,i.Fc)),2&t){const t=i.uc(41);i.zb(5),i.mc("formGroup",e.loginForm),i.zb(6),i.Hc(i.ic(12,23,"AUTH.GENERAL.SIGNUP_BUTTON")),i.zb(4),i.Hc(i.ic(16,25,"AUTH.INPUT.EMAIL")),i.zb(2),i.mc("ngClass",i.qc(33,w,e.loginForm.controls.email.invalid)),i.zb(1),i.mc("ngTemplateOutlet",t)("ngTemplateOutletContext",i.qc(35,O,e.loginForm.controls.email)),i.zb(1),i.mc("ngTemplateOutlet",t)("ngTemplateOutletContext",i.qc(37,C,e.loginForm.controls.email)),i.zb(1),i.mc("ngTemplateOutlet",t)("ngTemplateOutletContext",i.qc(39,R,e.loginForm.controls.email)),i.zb(1),i.mc("ngTemplateOutlet",t)("ngTemplateOutletContext",i.qc(41,q,e.loginForm.controls.email)),i.zb(4),i.Hc(i.ic(26,27,"AUTH.INPUT.PASSWORD")),i.zb(3),i.Hc(i.ic(29,29,"AUTH.GENERAL.FORGOT_BUTTON")),i.zb(2),i.mc("ngClass",i.qc(43,w,e.loginForm.controls.password.invalid)),i.zb(1),i.mc("ngTemplateOutlet",t)("ngTemplateOutletContext",i.qc(45,T,e.loginForm.controls.password)),i.zb(1),i.mc("ngTemplateOutlet",t)("ngTemplateOutletContext",i.qc(47,P,e.loginForm.controls.password)),i.zb(1),i.mc("ngTemplateOutlet",t)("ngTemplateOutletContext",i.qc(49,x,e.loginForm.controls.password)),i.zb(2),i.mc("disabled",e.loginForm.invalid),i.zb(1),i.Ic(" ",i.ic(37,31,"AUTH.LOGIN.BUTTON")," ")}},directives:[a.d,s.s,s.l,s.f,s.c,s.k,s.e,n.j,n.q,n.l],pipes:[f.b],styles:[""]}),t})();class L{static MatchPassword(t){if(t.get("password").value===t.get("cPassword").value)return null;t.get("cPassword").setErrors({ConfirmPassword:!0})}}function z(t,e){if(1&t&&(i.Sb(0,"div",8),i.Qb(1),i.Sb(2,"div",9),i.Sb(3,"h3",10),i.Gc(4," Thank you for register "),i.Rb(),i.Sb(5,"div",11),i.Gc(6),i.Rb(),i.Sb(7,"a",12),i.Gc(8," Back to login "),i.Rb(),i.Rb(),i.Pb(),i.Rb()),2&t){const t=i.gc();i.zb(6),i.Hc(t.successMessage)}}function I(t,e){1&t&&(i.Qb(0),i.Sb(1,"div",29),i.Sb(2,"div",30),i.Gc(3," 'Passsword' and 'Confirm Password' didn't match. "),i.Rb(),i.Rb(),i.Pb())}const F=function(t){return{"is-invalid":t}},G=function(t){return{validation:"required",message:"Email is required",control:t}},E=function(t){return{validation:"email",message:"Email is invalid",control:t}},M=function(t){return{validation:"minlength",message:"Email should have at least 6 symbols",control:t}},N=function(t){return{validation:"maxLength",message:"Email should have maximum 360 symbols",control:t}},k=function(t){return{validation:"required",message:"Password is required",control:t}},A=function(t){return{validation:"minlength",message:"Password should have at least 6 symbols",control:t}},U=function(t){return{validation:"maxLength",message:"Password should have maximum 100 symbols",control:t}},_=function(t){return{validation:"required",message:"Confirm Password is required",control:t}},H=function(t){return{validation:"minlength",message:"Confirm Password should have at least 6 symbols",control:t}},j=function(t){return{validation:"maxLength",message:"Confirm Password should have maximum 100 symbols",control:t}};function B(t,e){if(1&t){const t=i.Tb();i.Sb(0,"form",13),i.cc("ngSubmit",function(){return i.vc(t),i.gc().submit()}),i.Sb(1,"div",14),i.Sb(2,"h3",15),i.Gc(3," Sign Up "),i.Rb(),i.Sb(4,"p",16),i.Gc(5," Enter your details to create your account "),i.Rb(),i.Rb(),i.Sb(6,"div",17),i.Sb(7,"label",18),i.Gc(8,"Email"),i.Rb(),i.Nb(9,"input",19),i.Ob(10,20),i.Ob(11,20),i.Ob(12,20),i.Ob(13,20),i.Rb(),i.Sb(14,"div",17),i.Sb(15,"label",18),i.Gc(16,"Password"),i.Rb(),i.Nb(17,"input",21),i.Ob(18,20),i.Ob(19,20),i.Ob(20,20),i.Rb(),i.Sb(21,"div",17),i.Sb(22,"label",18),i.Gc(23,"Confirm Password"),i.Rb(),i.Nb(24,"input",22),i.Ob(25,20),i.Ob(26,20),i.Ob(27,20),i.Ec(28,I,4,0,"ng-container",23),i.Rb(),i.Sb(29,"div",17),i.Sb(30,"label",24),i.Nb(31,"input",25),i.Gc(32,"\xa0I Agree the\xa0"),i.Sb(33,"a",26),i.Gc(34,"terms and conditions"),i.Rb(),i.Gc(35,".\xa0 "),i.Nb(36,"span"),i.Rb(),i.Rb(),i.Sb(37,"div"),i.Sb(38,"button",27),i.Gc(39," Submit "),i.Rb(),i.Sb(40,"a",28),i.Gc(41," Cancel "),i.Rb(),i.Rb(),i.Rb()}if(2&t){const t=i.gc(),e=i.uc(8);i.mc("formGroup",t.registrationForm),i.zb(9),i.mc("ngClass",i.qc(26,F,t.registrationForm.controls.email.invalid)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(28,G,t.registrationForm.controls.email)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(30,E,t.registrationForm.controls.email)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(32,M,t.registrationForm.controls.email)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(34,N,t.registrationForm.controls.email)),i.zb(4),i.mc("ngClass",i.qc(36,F,t.registrationForm.controls.password.invalid)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(38,k,t.registrationForm.controls.password)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(40,A,t.registrationForm.controls.password)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(42,U,t.registrationForm.controls.password)),i.zb(4),i.mc("ngClass",i.qc(44,F,t.registrationForm.controls.cPassword.invalid)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(46,_,t.registrationForm.controls.cPassword)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(48,H,t.registrationForm.controls.cPassword)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(50,j,t.registrationForm.controls.cPassword)),i.zb(1),i.mc("ngIf",t.registrationForm.controls.cPassword.errors&&t.registrationForm.controls.cPassword.errors.ConfirmPassword),i.zb(10),i.mc("disabled",t.registrationForm.invalid||!t.registrationForm.controls.agree.value)}}function Q(t,e){if(1&t&&(i.Qb(0),i.Sb(1,"div",29),i.Sb(2,"div",30),i.Gc(3),i.Rb(),i.Rb(),i.Pb()),2&t){const t=i.gc().message;i.zb(3),i.Ic(" ",t," ")}}function D(t,e){if(1&t&&i.Ec(0,Q,4,1,"ng-container",23),2&t){const t=e.control;i.mc("ngIf",t.hasError(e.validation)&&(t.dirty||t.touched))}}let J=(()=>{class t{constructor(t,e,o,n){this.fb=t,this.authService=e,this.router=o,this.loderService=n,localStorage.getItem("token")&&this.router.navigate(["/home"])}ngOnInit(){this.initForm()}get f(){return this.registrationForm.controls}initForm(){this.registrationForm=this.fb.group({email:["",s.q.compose([s.q.required,s.q.email,s.q.minLength(6),s.q.maxLength(320)])],password:["",s.q.compose([s.q.required,s.q.minLength(6),s.q.maxLength(100)])],cPassword:["",s.q.compose([s.q.required,s.q.minLength(6),s.q.maxLength(100)])],agree:[!1,s.q.compose([s.q.required])]},{validator:L.MatchPassword})}submit(){this.loderService.setIsLoading=!0,this.authService.register(this.f.email.value,this.f.password.value,this.f.cPassword.value).pipe(Object(d.a)()).subscribe(t=>{this.loderService.setIsLoading=!1,this.successMessage=t.result.successMessage,this.activationLink=decodeURIComponent(t.result.emailConfirmationUrl)},t=>{this.loderService.setIsLoading=!1,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(s.d),i.Mb(h.a),i.Mb(a.c),i.Mb(p.a))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-registration"]],decls:9,vars:2,consts:[[1,"container"],[1,"row","authSection"],[1,"col-lg-4","offset-lg-4","col-md-6","offset-md-3","py-5"],["routerLink","/home"],["src","./assets/images/logo.svg","alt","Logo",1,"login-logo"],["class","pb-5 pt-lg-0 pt-5",4,"ngIf"],["novalidate","novalidate",3,"formGroup","ngSubmit",4,"ngIf"],["formError",""],[1,"pb-5","pt-lg-0","pt-5"],[1,"mb-10","alert","alert-custom","alert-light-success","alert-dismissible","d-block"],[1,"font-weight-bolder","alert-text","font-size-h3","mb-5","text-center"],[1,"alert-text","font-size-h4","text-center","mb-3"],["routerLink","auth/login",1,"d-block","text-center","font-size-h5"],["novalidate","novalidate",3,"formGroup","ngSubmit"],[1,"mb-4","pt-lg-0","pt-5"],[1,"font-weight-bolder","mb-0","text-dark","font-size-h6","font-size-h4-lg"],[1,"text-muted","font-weight-bold","font-size-h6"],[1,"form-group"],[1,"font-size-h6","font-weight-bolder","text-dark"],["type","email","placeholder","Email","name","email","formControlName","email","autocomplete","off",1,"form-control",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","password","placeholder","Password","name","password","formControlName","password","autocomplete","off",1,"form-control",3,"ngClass"],["type","password","placeholder","Confirm password","name","cPassword","autocomplete","off","formControlName","cPassword",1,"form-control",3,"ngClass"],[4,"ngIf"],[1,"checkbox","mb-0"],["type","checkbox","formControlName","agree","name","agree"],["href","#","target","_blank"],["type","submit",1,"btn","btn-success",3,"disabled"],["routerLink","/auth/login","type","button",1,"mx-2","btn","btn-light"],[1,"fv-plugins-message-container"],[1,"fv-help-block"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Sb(2,"div",2),i.Sb(3,"a",3),i.Nb(4,"img",4),i.Rb(),i.Ec(5,z,9,1,"div",5),i.Ec(6,B,42,52,"form",6),i.Rb(),i.Rb(),i.Rb(),i.Ec(7,D,1,1,"ng-template",null,7,i.Fc)),2&t&&(i.zb(5),i.mc("ngIf",e.successMessage),i.zb(1),i.mc("ngIf",!e.successMessage))},directives:[a.d,n.l,s.s,s.l,s.f,s.c,s.k,s.e,n.j,n.q,s.a],styles:["[_nghost-%COMP%]{width:100%}@media (min-width:992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),t})();var V=o("5eHb");function K(t,e){1&t&&(i.Qb(0),i.Sb(1,"div",19),i.Sb(2,"div",20),i.Gc(3),i.hc(4,"translate"),i.Rb(),i.Rb(),i.Pb()),2&t&&(i.zb(3),i.Hc(i.ic(4,1,"AUTH.VALIDATION.INVALID")))}const W=function(t){return{display:t}},Y=function(t){return{"is-invalid":t}},X=function(t){return{validation:"required",message:"Email is required",control:t}},$=function(){return{name:"Email"}},Z=function(t,e){return{validation:"email",message:t,control:e}},tt=function(t){return{validation:"minLength",message:"Email should have at least 3 symbols",control:t}},et=function(t){return{validation:"maxLength",message:"Email should have maximum 360 symbols",control:t}};function ot(t,e){if(1&t){const t=i.Tb();i.Sb(0,"form",8),i.cc("ngSubmit",function(){return i.vc(t),i.gc().submit()}),i.Sb(1,"div",9),i.Sb(2,"h3",10),i.Gc(3),i.hc(4,"translate"),i.Rb(),i.Sb(5,"p",11),i.Gc(6),i.hc(7,"translate"),i.Rb(),i.Rb(),i.Ec(8,K,5,3,"ng-container",12),i.Sb(9,"div",13),i.Nb(10,"input",14),i.Ob(11,15),i.Ob(12,15),i.hc(13,"translate"),i.Ob(14,15),i.Ob(15,15),i.Rb(),i.Sb(16,"div",16),i.Sb(17,"button",17),i.Gc(18),i.hc(19,"translate"),i.Rb(),i.Sb(20,"a",18),i.Gc(21),i.hc(22,"translate"),i.Rb(),i.Rb(),i.Rb()}if(2&t){const t=i.gc(),e=i.uc(8);i.mc("formGroup",t.forgotPasswordForm)("ngStyle",i.qc(27,W,t.errorState===t.errorStates.NoError?"none":"block")),i.zb(3),i.Ic(" ",i.ic(4,16,"AUTH.FORGOT.TITLE")," "),i.zb(3),i.Ic(" ",i.ic(7,18,"AUTH.FORGOT.DESC")," "),i.zb(2),i.mc("ngIf",t.errorState===t.errorStates.HasError),i.zb(2),i.mc("ngClass",i.qc(29,Y,t.forgotPasswordForm.controls.email.invalid)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(31,X,t.forgotPasswordForm.controls.email)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.rc(34,Z,i.jc(13,20,"AUTH.VALIDATION.INVALID",i.pc(33,$)),t.forgotPasswordForm.controls.email)),i.zb(2),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(37,tt,t.forgotPasswordForm.controls.email)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(39,et,t.forgotPasswordForm.controls.email)),i.zb(3),i.Ic(" ",i.ic(19,23,"AUTH.GENERAL.SUBMIT_BUTTON")," "),i.zb(3),i.Ic(" ",i.ic(22,25,"AUTH.GENERAL.CANCEL")," ")}}function nt(t,e){1&t&&(i.Qb(0),i.Sb(1,"div",30),i.Sb(2,"div",31),i.Gc(3," 'Passsword' and 'Confirm Password' didn't match. "),i.Rb(),i.Rb(),i.Pb())}const st=function(t){return{validation:"required",message:"Password is required",control:t}},rt=function(t){return{validation:"minlength",message:"Password should have at least 6 symbols",control:t}},at=function(t){return{validation:"maxLength",message:"Password should have maximum 100 symbols",control:t}},it=function(t){return{validation:"required",message:"Confirm Password is required",control:t}},lt=function(t){return{validation:"minlength",message:"Confirm Password should have at least 6 symbols",control:t}},ct=function(t){return{validation:"maxLength",message:"Confirm Password should have maximum 100 symbols",control:t}};function mt(t,e){if(1&t){const t=i.Tb();i.Sb(0,"form",21),i.cc("ngSubmit",function(){return i.vc(t),i.gc().reset()}),i.Sb(1,"div",22),i.Sb(2,"h3",10),i.Gc(3," Reset Password "),i.Rb(),i.Sb(4,"p",11),i.Gc(5," Enter your new password "),i.Rb(),i.Rb(),i.Sb(6,"div",23),i.Sb(7,"label",24),i.Gc(8,"Password"),i.Rb(),i.Nb(9,"input",25),i.Ob(10,15),i.Ob(11,15),i.Ob(12,15),i.Rb(),i.Sb(13,"div",23),i.Sb(14,"label",24),i.Gc(15,"Confirm Password"),i.Rb(),i.Nb(16,"input",26),i.Ob(17,15),i.Ob(18,15),i.Ob(19,15),i.Ec(20,nt,4,0,"ng-container",12),i.Rb(),i.Sb(21,"div",27),i.Sb(22,"button",28),i.Gc(23," Submit "),i.Rb(),i.Sb(24,"a",29),i.Gc(25," Cancel "),i.Rb(),i.Rb(),i.Rb()}if(2&t){const t=i.gc(),e=i.uc(8);i.mc("formGroup",t.resetForm),i.zb(9),i.mc("ngClass",i.qc(17,Y,t.resetForm.controls.password.invalid)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(19,st,t.resetForm.controls.password)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(21,rt,t.resetForm.controls.password)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(23,at,t.resetForm.controls.password)),i.zb(4),i.mc("ngClass",i.qc(25,Y,t.resetForm.controls.cPassword.invalid)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(27,it,t.resetForm.controls.cPassword)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(29,lt,t.resetForm.controls.cPassword)),i.zb(1),i.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",i.qc(31,ct,t.resetForm.controls.cPassword)),i.zb(1),i.mc("ngIf",t.resetForm.controls.cPassword.errors&&t.resetForm.controls.cPassword.errors.ConfirmPassword),i.zb(2),i.mc("disabled",t.resetForm.invalid)}}function ut(t,e){if(1&t&&(i.Qb(0),i.Sb(1,"div",30),i.Sb(2,"div",31),i.Gc(3),i.Rb(),i.Rb(),i.Pb()),2&t){const t=i.gc().message;i.zb(3),i.Ic(" ",t," ")}}function bt(t,e){if(1&t&&i.Ec(0,ut,4,1,"ng-container",12),2&t){const t=e.control;i.mc("ngIf",t.hasError(e.validation)&&(t.dirty||t.touched))}}var gt=function(t){return t[t.NotSubmitted=0]="NotSubmitted",t[t.HasError=1]="HasError",t[t.NoError=2]="NoError",t}({});let dt=(()=>{class t{constructor(t,e,o,n,s){this.fb=t,this.authService=e,this.toaster=o,this.router=n,this.loderService=s,this.errorState=gt.NotSubmitted,this.errorStates=gt,this.step=1,this.unsubscribe=[],localStorage.getItem("token")&&this.router.navigate(["/"])}ngOnInit(){this.initForm()}get f(){return this.forgotPasswordForm.controls}get r(){return this.resetForm.controls}initForm(){this.forgotPasswordForm=this.fb.group({email:["",s.q.compose([s.q.required,s.q.email,s.q.minLength(3),s.q.maxLength(320)])]})}initResetForm(){this.resetForm=this.fb.group({password:["",s.q.compose([s.q.required,s.q.minLength(6),s.q.maxLength(100)])],cPassword:["",s.q.compose([s.q.required,s.q.minLength(6),s.q.maxLength(100)])],agree:[!1,s.q.compose([s.q.required])]},{validator:L.MatchPassword})}submit(){this.loderService.setIsLoading=!0,this.authService.forgetPassword(this.f.email.value).subscribe(t=>{this.loderService.setIsLoading=!1,t.result.code?(this.initResetForm(),this.step=2,this.resetCode=t.result.code):this.toaster.error("Invalid Email")},t=>{this.loderService.setIsLoading=!1,console.log(t)})}reset(){this.loderService.setIsLoading=!0;const t=this.authService.resetPassword(this.f.email.value,this.r.password.value,this.r.cPassword.value,this.resetCode).pipe(Object(d.a)()).subscribe(t=>{this.loderService.setIsLoading=!1,this.toaster.success(t.result),this.router.navigate(["auth/login"])},t=>{this.loderService.setIsLoading=!1,console.log(t)});this.unsubscribe.push(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(s.d),i.Mb(h.a),i.Mb(V.b),i.Mb(a.c),i.Mb(p.a))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-forgot-password"]],decls:9,vars:2,consts:[[1,"container"],[1,"row","authSection"],[1,"col-lg-4","offset-lg-4","col-md-6","offset-md-3","py-5"],["routerLink","/home"],["src","./assets/images/logo.svg","alt","Logo",1,"login-logo"],["novalidate","novalidate",3,"formGroup","ngStyle","ngSubmit",4,"ngIf"],["novalidate","novalidate",3,"formGroup","ngSubmit",4,"ngIf"],["formError",""],["novalidate","novalidate",3,"formGroup","ngStyle","ngSubmit"],[1,"mb-4","pt-lg-0","pt-5"],[1,"font-weight-bolder","text-dark","font-size-h6","font-size-h4-lg","mb-0"],[1,"text-muted","font-weight-bold","font-size-h6"],[4,"ngIf"],[1,"form-group","fv-plugins-icon-container","has-danger"],["type","email","formControlName","email","placeholder","Enter your email","name","email","autocomplete","off",1,"form-control",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-group","d-flex","flex-wrap","pb-lg-0"],["type","submit",1,"btn","btn-success"],["routerLink","/auth/login",1,"btn","btn-light","mx-2"],[1,"mb-10","alert","alert-custom","alert-light-danger","alert-dismissible"],[1,"alert-text"],["novalidate","novalidate",3,"formGroup","ngSubmit"],[1,"mb-4","pt-lg-0"],[1,"form-group"],[1,"font-size-h6","font-weight-bolder","text-dark"],["type","password","placeholder","Password","name","password","formControlName","password","autocomplete","off",1,"form-control",3,"ngClass"],["type","password","placeholder","Confirm password","name","cPassword","autocomplete","off","formControlName","cPassword",1,"form-control",3,"ngClass"],[1,"form-group","d-flex","flex-wrap","pb-lg-0","pb-3"],["type","submit",1,"btn","btn-success",3,"disabled"],["routerLink","/auth/login","type","button",1,"btn","btn-light","mx-2"],[1,"fv-plugins-message-container"],[1,"fv-help-block"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Sb(2,"div",2),i.Sb(3,"a",3),i.Nb(4,"img",4),i.Rb(),i.Ec(5,ot,23,41,"form",5),i.Ec(6,mt,26,33,"form",6),i.Rb(),i.Rb(),i.Rb(),i.Ec(7,bt,1,1,"ng-template",null,7,i.Fc)),2&t&&(i.zb(5),i.mc("ngIf",1===e.step),i.zb(1),i.mc("ngIf",2===e.step))},directives:[a.d,n.l,s.s,s.l,s.f,n.m,s.c,s.k,s.e,n.j,n.q],pipes:[f.b],styles:["[_nghost-%COMP%]{width:100%}@media (min-width:992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),t})(),ht=(()=>{class t{constructor(t){this.authService=t,this.authService.logout()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(h.a))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-logout"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Sb(0,"p"),i.Gc(1,"logout works!"),i.Rb())},styles:[""]}),t})();const pt=[{path:"",component:g,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:y,data:{returnUrl:window.location.pathname}},{path:"registration",component:J},{path:"ConfirmEmail",component:(()=>{class t{constructor(t,e){this.route=t,this.authService=e}ngOnInit(){this.route.queryParams.subscribe(t=>{this.userId=t.userId,this.code=t.code,this.userId&&this.code&&this.authService.confirmEmail({userId:this.userId,code:this.code}).subscribe(t=>{})})}}return t.\u0275fac=function(e){return new(e||t)(i.Mb(a.a),i.Mb(h.a))},t.\u0275cmp=i.Gb({type:t,selectors:[["app-email-config"]],decls:12,vars:0,consts:[[1,"container"],[1,"row","authSection"],[1,"col-lg-4","offset-lg-4","col-md-6","offset-md-3","py-5"],["routerLink","/home"],["src","./assets/images/logo.svg","alt","Logo",1,"login-logo"],[1,"text-center","mb-4"],[1,"text-center"],["routerLink","auth/login",1,"btn","btn-success","px-4","mx-auto"]],template:function(t,e){1&t&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Sb(2,"div",2),i.Sb(3,"a",3),i.Nb(4,"img",4),i.Rb(),i.Sb(5,"h1",5),i.Gc(6,"Thank You For Register With Us"),i.Nb(7,"br"),i.Gc(8,"Your Email Is Configerd"),i.Rb(),i.Sb(9,"div",6),i.Sb(10,"a",7),i.Gc(11," Back To Login "),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb())},directives:[a.d],styles:[""]}),t})()},{path:"forgot-password",component:dt},{path:"logout",component:ht},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login",pathMatch:"full"}]}];let ft=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[a.e.forChild(pt)],a.e]}),t})();var vt=o("tM0M"),St=o("pMKl");let wt=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},providers:[h.a,{provide:r.a,useClass:St.a,multi:!0}],imports:[[n.c,vt.a,ft,s.g,s.o,r.c]]}),t})()}}]);